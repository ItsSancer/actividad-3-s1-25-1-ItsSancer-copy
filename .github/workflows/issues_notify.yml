name: Issue â†’ Telegram

on:
  issues:
    types: [opened, closed, reopened]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Notify issue on Telegram
        uses: EverythingSuckz/github-telegram-notify@v1.1.2
        with:
          bot_token: ${{ secrets.BOT_TOKEN }}
          chat_id: ${{ secrets.CHAT_ID }}
          message: |
            ${{- if eq(github.event_name, 'discussion') -}}
            ğŸ“¢ *Nueva discussion* en categorÃ­a *${{ github.event.discussion.category.name }}*
            *TÃ­tulo:* ${{ github.event.discussion.title }}
            *Autor:* ${{ github.event.sender.login }}
            ${{ github.event.discussion.html_url }}
            ${{- else -}}
            ğŸ’¬ *Nuevo comentario* en discussion *${{ github.event.discussion.title }}*
            *Autor:* ${{ github.event.sender.login }}
            > ${{ github.event.comment.body }}
            ${{ github.event.comment.html_url }}
            ${{- end -}}